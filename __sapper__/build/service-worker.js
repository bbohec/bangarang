!function(){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("@sapper/service-worker"),n="cache"+t.timestamp,r=t.shell.concat(t.files),s=new Set(r);function a(n){return e.__awaiter(this,void 0,void 0,(function(){var r,s,a;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,caches.open("offline"+t.timestamp)];case 1:r=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,6]),[4,fetch(n)];case 3:return a=e.sent(),r.put(n,a.clone()),[2,a];case 4:return s=e.sent(),[4,r.match(n)];case 5:if(a=e.sent())return[2,a];throw s;case 6:return[2]}}))}))}self.addEventListener("install",(function(e){e.waitUntil(caches.open(n).then((function(e){return e.addAll(r)})).then((function(){self.skipWaiting()})))})),self.addEventListener("activate",(function(t){t.waitUntil(caches.keys().then((function(t){return e.__awaiter(void 0,void 0,void 0,(function(){var r,s,a;return e.__generator(this,(function(e){switch(e.label){case 0:r=0,s=t,e.label=1;case 1:return r<s.length?(a=s[r])===n?[3,3]:[4,caches.delete(a)]:[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return self.clients.claim(),[2]}}))}))})))})),self.addEventListener("fetch",(function(t){if("GET"===t.request.method&&!t.request.headers.has("range")){var n=new URL(t.request.url),r=n.protocol.startsWith("http"),c=n.hostname===self.location.hostname&&n.port!==self.location.port,i=n.host===self.location.host&&s.has(n.pathname),o="only-if-cached"===t.request.cache&&!i;!r||c||o||t.respondWith(e.__awaiter(void 0,void 0,void 0,(function(){var n;return e.__generator(this,(function(e){switch(e.label){case 0:return(n=i)?[4,caches.match(t.request)]:[3,2];case 1:n=e.sent(),e.label=2;case 2:return[2,n||a(t.request)]}}))})))}}))}();
